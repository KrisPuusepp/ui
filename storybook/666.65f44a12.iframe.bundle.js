"use strict";(self.webpackChunk_pixi_ui=self.webpackChunk_pixi_ui||[]).push([[666],{"./src/Button.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>Button});var lib=__webpack_require__("./node_modules/@pixi/core/lib/index.mjs"),display_lib=__webpack_require__("./node_modules/@pixi/display/lib/index.mjs"),dist=__webpack_require__("./node_modules/typed-signals/dist/index.js"),view=__webpack_require__("./src/utils/helpers/view.ts"),text_lib=__webpack_require__("./node_modules/@pixi/text/lib/index.mjs");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var Button=function(_Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(Button,_Container);var _super=_createSuper(Button);function Button(_ref){var _ref2,_ref3,_this,defaultView=_ref.defaultView,hoverView=_ref.hoverView,pressedView=_ref.pressedView,disabledView=_ref.disabledView,text=_ref.text,padding=_ref.padding,offsets=_ref.offsets,anchor=_ref.anchor,anchorX=_ref.anchorX,anchorY=_ref.anchorY;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Button),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"padding",0),_defineProperty(_assertThisInitialized(_this),"offsets",{}),_defineProperty(_assertThisInitialized(_this),"state","default"),_this.padding=2*(null!=padding?padding:0),_this.offsets=null!=offsets?offsets:{},_this.defaultView=(0,view.X)(defaultView),_this.addChild(_this.defaultView),hoverView&&(_this.hoverView=(0,view.X)(hoverView),_this.addChild(_this.hoverView),_this.hoverView.visible=!1),pressedView&&(_this.pressedView=(0,view.X)(pressedView),_this.addChild(_this.pressedView),_this.pressedView.visible=!1),disabledView&&(_this.disabledView=(0,view.X)(disabledView),_this.addChild(_this.disabledView),_this.disabledView.visible=!1),_this.textView=function getTextView(text){return text instanceof text_lib.xv?text:new text_lib.xv(text)}(text),_this.textView.anchor.set(0),_this.anchor=new lib.AB(_this.setAnchor,_assertThisInitialized(_this),null!==(_ref2=null!=anchorX?anchorX:anchor)&&void 0!==_ref2?_ref2:.5,null!==(_ref3=null!=anchorY?anchorY:anchor)&&void 0!==_ref3?_ref3:.5),_this.setAnchor(),_this.setState("default"),_this._enabled=!0,_this.onPress=new dist.MZ,_this.onDown=new dist.MZ,_this.onUp=new dist.MZ,_this.onHover=new dist.MZ,_this.onOut=new dist.MZ,_this.onUpOut=new dist.MZ,_this.on("pointerdown",(function(e){_this._isDown=!0,_this.onDown.emit(_assertThisInitialized(_this),e)})),_this.on("pointerup",(function(e){_this.setState("default"),_this._processUp(e)})),_this.on("pointerupoutside",(function(e){_this.setState("default"),_this._processUpOut(e)})),_this.on("pointerout",(function(e){_this.setState("default"),_this._processOut(e)})),_this.on("pointertap",(function(e){_this._isDown=!1,_this.onPress.emit(_assertThisInitialized(_this),e)})),_this.on("pointerover",(function(e){_this.onHover.emit(_assertThisInitialized(_this),e)})),_this.onDown.connect((function(_btn,e){_this.down(e),_this.setState("pressed")})),_this.onUp.connect((function(_btn,e){_this.up(e),_this.setState("hover")})),_this.onUpOut.connect((function(_bth,e){_this._upOut(e),_this.setState("default")})),lib.P6.isMobile.any||_this.onHover.connect((function(_bth,e){_this.setState("hover"),_this.hover(e)})),_this.onOut.connect((function(_bth,e){_this.setState("default"),_this._out(e)})),_this._isDown=!1,_this.enabled=!0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Button,[{key:"down",value:function down(_e){}},{key:"up",value:function up(_e){}},{key:"hover",value:function hover(_e){}},{key:"isDown",get:function get(){return this._isDown}},{key:"enabled",get:function get(){return this._enabled},set:function set(enabled){this._enabled=enabled,this.interactive=enabled,this.cursor=enabled?"pointer":"default",this.setState(enabled?"default":"disabled"),enabled||this._processUp()}},{key:"shown",get:function get(){return this._shown},set:function set(value){this._shown=value,this.enabled=value,this.defaultView&&(this.defaultView.visible=value)}},{key:"_processUp",value:function _processUp(e){this._isDown&&this.onUp.emit(this,e),this._isDown=!1}},{key:"_processUpOut",value:function _processUpOut(e){this._isDown&&this.onUpOut.emit(this,e),this._isDown=!1}},{key:"_processOut",value:function _processOut(e){this.onOut.emit(this,e)}},{key:"_upOut",value:function _upOut(e){this.up(e)}},{key:"_out",value:function _out(e){this.up(e)}},{key:"getOffset",value:function getOffset(val){var _val$x,_val$y;return{x:"number"==typeof val?val:null!==(_val$x=null==val?void 0:val.x)&&void 0!==_val$x?_val$x:0,y:"number"==typeof val?val:null!==(_val$y=null==val?void 0:val.y)&&void 0!==_val$y?_val$y:0}}},{key:"hideAllViews",value:function hideAllViews(){this.defaultView&&(this.defaultView.visible=!1),this.hoverView&&(this.hoverView.visible=!1),this.pressedView&&(this.pressedView.visible=!1),this.disabledView&&(this.disabledView.visible=!1)}},{key:"getActiveView",value:function getActiveView(state){var _this$hoverView,_this$pressedView,_this$disabledView;switch(state){case"default":default:return this.defaultView;case"hover":return null!==(_this$hoverView=this.hoverView)&&void 0!==_this$hoverView?_this$hoverView:this.defaultView;case"pressed":return null!==(_this$pressedView=this.pressedView)&&void 0!==_this$pressedView?_this$pressedView:this.defaultView;case"disabled":return null!==(_this$disabledView=this.disabledView)&&void 0!==_this$disabledView?_this$disabledView:this.defaultView}}},{key:"setState",value:function setState(state){this.hideAllViews();var exActiveView=this.getActiveView(this.state);exActiveView.x-=this.getOffset(this.offsets["".concat(this.state,"View")]).x,exActiveView.y-=this.getOffset(this.offsets["".concat(this.state,"View")]).y,this.state=state;var activeView=this.getActiveView(this.state);if(activeView.x+=this.getOffset(this.offsets["".concat(state,"View")]).x,activeView.y+=this.getOffset(this.offsets["".concat(state,"View")]).y,activeView.visible=!0,activeView.addChild(this.textView),this.textView.x=(activeView.width-this.textView.width)/2+this.getOffset(this.offsets.text).x,this.textView.y=(activeView.height-this.textView.height)/2+this.getOffset(this.offsets.text).y,this.textView.width+this.padding>activeView.width){var maxWidth=activeView.width;this.textView.scale.set(maxWidth/(this.textView.width+this.padding))}}},{key:"setAnchor",value:function setAnchor(){var _anchor,_anchor2,_anchor3,_anchor4,x=this.anchor.x,y=this.anchor.y;this.defaultView&&(null===(_anchor=this.defaultView.anchor)||void 0===_anchor||_anchor.set(0),this.defaultView.x=this.width/2-this.defaultView.width*x,this.defaultView.y=this.height/2-this.defaultView.height*y);this.hoverView&&(null===(_anchor2=this.hoverView.anchor)||void 0===_anchor2||_anchor2.set(0),this.hoverView.x=this.width/2-this.hoverView.width*x,this.hoverView.y=this.height/2-this.hoverView.height*y);this.pressedView&&(null===(_anchor3=this.pressedView.anchor)||void 0===_anchor3||_anchor3.set(0),this.pressedView.x=this.width/2-this.pressedView.width*x,this.pressedView.y=this.height/2-this.pressedView.height*y);this.disabledView&&(null===(_anchor4=this.disabledView.anchor)||void 0===_anchor4||_anchor4.set(0),this.disabledView.x=this.width/2-this.disabledView.width*x,this.disabledView.y=this.height/2-this.disabledView.height*y)}},{key:"text",get:function get(){return this.textView.text},set:function set(text){this.textView.text=text,this.setState(this.state)}}]),Button}(display_lib.W2)},"./src/Swich.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>Swich});var _pixi_display__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@pixi/display/lib/index.mjs"),typed_signals__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/typed-signals/dist/index.js"),_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Button.ts"),_utils_helpers_view__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/helpers/view.ts");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var Swich=function(_Button){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(Swich,_Button);var _super=_createSuper(Swich);function Swich(views){var _this,activeViewID=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,Swich),_defineProperty(_assertThisInitialized(_this=_super.call(this,{defaultView:new _pixi_display__WEBPACK_IMPORTED_MODULE_0__.W2})),"views",[]),_defineProperty(_assertThisInitialized(_this),"activeViewID",0),_this.views=views.map((function(stateView,id){var view=(0,_utils_helpers_view__WEBPACK_IMPORTED_MODULE_2__.X)(stateView);return _this.defaultView.addChild(view),view.visible=id===_this.activeViewID,view})),_this.activeViewID=activeViewID,_this.onChange=new typed_signals__WEBPACK_IMPORTED_MODULE_1__.MZ,_this.onPress.connect((function(){_this.switch(),_this.onChange.emit(_this.activeViewID)})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Swich,[{key:"activeView",get:function get(){return this.views[this.activeViewID]}},{key:"switch",value:function _switch(id){this.activeView.visible=!1,this.activeViewID=void 0===id?this.activeViewID+1:id,this.activeViewID>this.views.length-1&&(this.activeViewID=0),this.views[this.activeViewID].visible=!0}}]),Swich}(_Button__WEBPACK_IMPORTED_MODULE_3__.z)}}]);